<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Coding Study Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
        }
    </style>
</head>
<body class="p-6">
    <div class="container mx-auto max-w-4xl">

        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-2">My Medical Coding Study Hub</h1>
            <p class="text-lg text-gray-600">A personal knowledge base for mastering medical coding.</p>
        </header>

        <!-- Search Bar -->
        <div class="mb-8">
            <input type="text" id="searchInput" placeholder="Search my notes and codes..." class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all">
        </div>

        <main id="content">
            <!-- CPT Section -->
            <section id="cpt-section" class="bg-white p-6 rounded-3xl shadow-lg mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">CPT Codes & Modifiers</h2>
                <div class="space-y-4">
                    <div class="topic-item p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <h3 class="font-semibold text-lg text-gray-700">Topic: Evaluation & Management (E/M)</h3>
                        <p class="text-gray-600 mt-1 text-sm">Notes on the new E/M guidelines, time-based vs. MDM, and common pitfalls.</p>
                        <a href="#" class="text-indigo-600 font-medium hover:underline mt-2 inline-block">View details &rarr;</a>
                    </div>
                    <div class="topic-item p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <h3 class="font-semibold text-lg text-gray-700">Topic: CPT Modifiers </h3>
                        <p class="text-gray-600 mt-1 text-sm">Key modifiers to remember: -25, -59, -51. Case examples and usage rules.</p>
                        <a href="#" class="text-indigo-600 font-medium hover:underline mt-2 inline-block">View details &rarr;</a>
                    </div>
                </div>
            </section>

            <!-- ICD-10-CM Section -->
            <section id="icd10-section" class="bg-white p-6 rounded-3xl shadow-lg mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">ICD-10-CM Codes & Guidelines</h2>
                <div class="space-y-4">
                    <div class="topic-item p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <h3 class="font-semibold text-lg text-gray-700">Topic: Chapter 19 - Injuries</h3>
                        <p class="text-gray-600 mt-1 text-sm">Notes on coding for fractures, burns, and adverse effects. Placeholder for personal notes.</p>
                        <a href="#" class="text-indigo-600 font-medium hover:underline mt-2 inline-block">View details &rarr;</a>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-xl border border-gray-200 mt-4">
                        <h3 id="lessonTitle" class="font-semibold text-lg text-gray-700 mb-2"></h3>
                        <p id="lessonContent" class="text-gray-600 mt-2 text-sm leading-relaxed"></p>
                        <p id="lessonScenario" class="text-gray-600 mt-4 text-sm font-medium"></p>
                        <div class="mt-4">
                            <label id="quiz-answer-label" for="icd10-quiz-answer" class="block text-sm font-medium text-gray-700">Enter the correct ICD-10-CM code:</label>
                            <input type="text" id="icd10-quiz-answer" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2">
                        </div>
                        <div class="flex space-x-2 mt-4">
                            <button id="previousQuestionBtn" class="w-1/2 bg-gray-400 text-white py-2 px-4 rounded-xl hover:bg-gray-500 transition-colors duration-200">Previous</button>
                            <button id="submitIcd10Btn" class="w-1/2 bg-indigo-600 text-white py-2 px-4 rounded-xl hover:bg-indigo-700 transition-colors duration-200">Submit Answer</button>
                            <button id="nextQuestionBtn" class="w-1/2 bg-gray-400 text-white py-2 px-4 rounded-xl hover:bg-gray-500 transition-colors duration-200 hidden">Next</button>
                        </div>
                        <div id="icd10-feedback" class="mt-4 p-3 rounded-lg text-sm hidden"></div>
                    </div>
                </div>
            </section>

            <!-- HCPCS Section -->
            <section id="hcpcs-section" class="bg-white p-6 rounded-3xl shadow-lg mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">HCPCS Level II Codes</h2>
                <div class="space-y-4">
                    <div class="topic-item p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <h3 class="font-semibold text-lg text-gray-700">Topic: Durable Medical Equipment (DME)</h3>
                        <p class="text-gray-600 mt-1 text-sm">A quick reference for common DME codes and their descriptions. Placeholder for personal notes.</p>
                        <a href="#" class="text-indigo-600 font-medium hover:underline mt-2 inline-block">View details &rarr;</a>
                    </div>
                </div>
            </section>

            <!-- Case Studies Section with simple feedback -->
            <section id="case-studies-section" class="bg-white p-6 rounded-3xl shadow-lg mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">My Interactive Case Study</h2>
                <div id="case-study-container" class="space-y-4">
                    <div class="topic-item p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <h3 class="font-semibold text-lg text-gray-700 mb-2">Case #1: Cholecystectomy</h3>
                        <p class="text-gray-600 mt-1 text-sm">Patient presents with severe abdominal pain, nausea, and vomiting. Diagnosis is acute cholecystitis. A laparoscopic cholecystectomy is performed.</p>
                        <div class="mt-4">
                            <label for="cpt-answer" class="block text-sm font-medium text-gray-700">Enter the correct CPT code:</label>
                            <input type="text" id="cpt-answer" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2">
                        </div>
                        <div class="mt-2">
                            <label for="icd10-answer" class="block text-sm font-medium text-gray-700">Enter the correct ICD-10-CM code:</label>
                            <input type="text" id="icd10-answer" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2">
                        </div>
                        <button id="submitBtn" class="mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded-xl hover:bg-indigo-700 transition-colors duration-200">Submit Answers</button>
                        <div id="feedback" class="mt-4 p-3 rounded-lg text-sm hidden"></div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="text-center text-gray-500 text-sm mt-10">
            <p>Built with ❤️ for personal study. © 2025</p>
        </footer>
    </div>

    <script>
        // Case Study Feedback Script
        document.getElementById('submitBtn').addEventListener('click', function() {
            const cptAnswer = document.getElementById('cpt-answer').value.trim();
            const icd10Answer = document.getElementById('icd10-answer').value.trim();
            const feedbackDiv = document.getElementById('feedback');
            
            const correctCpt = '47562';
            const correctIcd10 = 'K81.0';

            feedbackDiv.classList.remove('hidden');
            let isCorrect = true;
            let feedbackText = '';

            if (cptAnswer === correctCpt) {
                feedbackText += `<p class="text-green-800">✅ CPT code is correct! Laparoscopic cholecystectomy is coded as 47562.</p>`;
            } else {
                isCorrect = false;
                feedbackText += `<p class="text-red-800">❌ CPT code is incorrect. The correct code is 47562. This code represents a laparoscopic removal of the gallbladder.</p>`;
            }

            if (icd10Answer.toUpperCase() === correctIcd10) {
                feedbackText += `<p class="text-green-800">✅ ICD-10-CM code is correct! Acute cholecystitis is coded as K81.0.</p>`;
            } else {
                isCorrect = false;
                feedbackText += `<p class="text-red-800">❌ ICD-10-CM code is incorrect. The correct code is K81.0. This code is found in Chapter 11 of the ICD-10-CM manual, which covers diseases of the digestive system.</p>`;
            }

            if (isCorrect) {
                feedbackDiv.classList.remove('bg-red-200');
                feedbackDiv.classList.add('bg-green-200');
            } else {
                feedbackDiv.classList.remove('bg-green-200');
                feedbackDiv.classList.add('bg-red-200');
            }
            
            feedbackDiv.innerHTML = feedbackText;
        });

        // Search Functionality Script
        document.getElementById('searchInput').addEventListener('keyup', function(event) {
            const searchTerm = event.target.value.toLowerCase();
            const topics = document.querySelectorAll('.topic-item');

            topics.forEach(topic => {
                const text = topic.innerText.toLowerCase();
                if (text.includes(searchTerm)) {
                    topic.style.display = ''; // Show the topic item
                } else {
                    topic.style.display = 'none'; // Hide the topic item
                }
            });
        });

        // ICD-10-CM Guided Lesson
        const icd10Lessons = [
            {
                title: "Chapter 1: Certain infectious and parasitic diseases",
                steps: [
                    {
                        lessonContent: "The **Official Guidelines for Coding and Reporting** are your most important tool. They are published by the U.S. government and provide the rules for assigning every code. Chapter 1 in the ICD-10-CM manual, for example, has its own set of chapter-specific guidelines you must follow.",
                        scenario: "You are preparing to code a diagnosis from Chapter 1. What is the most important document you must reference to ensure accuracy?",
                        correctCode: "Official Guidelines for Coding and Reporting",
                        correctFeedback: "Correct! The Official Guidelines are the definitive source for all coding rules.",
                        feedback: "The correct answer is not a code, but a document name: 'Official Guidelines for Coding and Reporting'. The question is asking for the document you must reference, not a specific code."
                    },
                    {
                        lessonContent: "A key rule for infectious diseases is that if the patient has a condition that is a complication of a medical procedure, you must use a code from Chapter 19 to describe the complication first. The infection is then coded as a secondary diagnosis.",
                        scenario: "Patient is admitted with septic shock due to a bacterial infection from a recent surgical wound. What is the correct sequencing?",
                        correctCode: "T81.4XXA",
                        correctCode2: "A41.9",
                        feedback: "The correct codes are **T81.4XXA** for the post-procedural infection, followed by **A41.9** for sepsis. You must code the complication first.",
                        correctFeedback: "Correct! You correctly identified and sequenced the complication first."
                    },
                    {
                        lessonContent: "For infections due to a drug-resistant microorganism, you'll need two codes. The first code describes the infection itself, and a secondary code from Category **Z16** is used to report the resistance.",
                        scenario: "Patient is diagnosed with Methicillin-resistant Staphylococcus aureus (MRSA) pneumonia.",
                        correctCode: "J15.211",
                        correctCode2: "Z16.11",
                        feedback: "The primary code is **J15.211** for pneumonia due to MRSA. The secondary code is **Z16.11**, 'Resistance to methicillin.' Both codes are needed to fully describe the patient's condition.",
                        correctFeedback: "Correct! You correctly identified both the primary diagnosis and the resistance code."
                    }
                ]
            }
        ];
        
        let currentChapterIndex = 0;
        let currentStepIndex = 0;

        function loadLessonStep() {
            const lesson = icd10Lessons[currentChapterIndex];
            const step = lesson.steps[currentStepIndex];
            document.getElementById('lessonTitle').innerText = `${lesson.title} - Lesson Step ${currentStepIndex + 1} of ${lesson.steps.length}`;
            document.getElementById('lessonContent').innerText = step.lessonContent;
            document.getElementById('lessonScenario').innerText = step.scenario;
            document.getElementById('icd10-quiz-answer').value = '';
            document.getElementById('icd10-feedback').classList.add('hidden');
            document.getElementById('submitIcd10Btn').classList.remove('hidden');
            document.getElementById('nextQuestionBtn').classList.add('hidden');

            const label = document.getElementById('quiz-answer-label');
            if (step.correctCode.includes(" ")) {
                label.innerText = "Enter your answer:";
            } else {
                label.innerText = "Enter the correct ICD-10-CM code:";
            }
        }

        document.getElementById('submitIcd10Btn').addEventListener('click', function() {
            const icd10QuizAnswer = document.getElementById('icd10-quiz-answer').value.trim().toUpperCase();
            const feedbackDiv = document.getElementById('icd10-feedback');
            const step = icd10Lessons[currentChapterIndex].steps[currentStepIndex];
            
            feedbackDiv.classList.remove('hidden');
            document.getElementById('nextQuestionBtn').classList.remove('hidden');
            document.getElementById('submitIcd10Btn').classList.add('hidden');

            let isCorrect = false;

            if (currentChapterIndex === 0 && currentStepIndex === 0) {
                const lowerCaseAnswer = icd10QuizAnswer.toLowerCase();
                if (lowerCaseAnswer.includes("guidelines") || lowerCaseAnswer.includes("official")) {
                    isCorrect = true;
                }
            } else {
                isCorrect = (icd10QuizAnswer === step.correctCode.toUpperCase()) || 
                              (step.correctCode2 && icd10QuizAnswer === `${step.correctCode.toUpperCase()}, ${step.correctCode2.toUpperCase()}`);
            }

            if (isCorrect) {
                feedbackDiv.innerHTML = `<p class="text-green-800">✅ ${step.correctFeedback}</p>`;
                feedbackDiv.classList.remove('bg-red-200');
                feedbackDiv.classList.add('bg-green-200');
            } else {
                feedbackDiv.innerHTML = `<p class="text-red-800">❌ Incorrect. ${step.feedback}</p>`;
                feedbackDiv.classList.remove('bg-green-200');
                feedbackDiv.classList.add('bg-red-200');
            }
        });
        
        document.getElementById('nextQuestionBtn').addEventListener('click', function() {
            const lessonSteps = icd10Lessons[currentChapterIndex].steps;
            if (currentStepIndex < lessonSteps.length - 1) {
                currentStepIndex++;
            } else {
                currentStepIndex = 0; // Restart the lesson at the end
            }
            loadLessonStep();
        });
        
        document.getElementById('previousQuestionBtn').addEventListener('click', function() {
            const lessonSteps = icd10Lessons[currentChapterIndex].steps;
            if (currentStepIndex > 0) {
                currentStepIndex--;
            } else {
                currentStepIndex = lessonSteps.length - 1; // Loop back to the end
            }
            loadLessonStep();
        });
        
        // Initial load
        loadLessonStep();
        
        // Search Functionality Script
        document.getElementById('searchInput').addEventListener('keyup', function(event) {
            const searchTerm = event.target.value.toLowerCase();
            const topics = document.querySelectorAll('.topic-item');

            topics.forEach(topic => {
                const text = topic.innerText.toLowerCase();
                if (text.includes(searchTerm)) {
                    topic.style.display = ''; // Show the topic item
                } else {
                    topic.style.display = 'none'; // Hide the topic item
                }
            });
        });
    </script>

</body>
</html>
